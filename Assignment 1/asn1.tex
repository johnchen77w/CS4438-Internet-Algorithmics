\documentclass[12pt,letterpaper]{article}
\usepackage{fullpage}
\usepackage[top=2cm, bottom=4.5cm, left=2.5cm, right=2.5cm]{geometry}
\usepackage{amsmath,amsthm,amsfonts,amssymb,amscd}
\usepackage{lastpage}
\usepackage{enumerate}
\usepackage{fancyhdr}
\usepackage{mathrsfs}
\usepackage{xcolor}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{hyperref}
\usepackage{graphicx}
\graphicspath{ {./images/} }


\hypersetup{%
  colorlinks=true,
  linkcolor=blue,
  linkbordercolor={0 0 1}
}
 
\renewcommand\lstlistingname{Algorithm}
\renewcommand\lstlistlistingname{Algorithms}
\def\lstlistingautorefname{Alg.}

\lstdefinestyle{Python}{
    language        = Python,
    frame           = lines, 
    basicstyle      = \footnotesize,
    keywordstyle    = \color{blue},
    stringstyle     = \color{green},
    commentstyle    = \color{red}\ttfamily
}

\setlength{\parindent}{0.0in}
\setlength{\parskip}{0.05in}



% Edit these as appropriate
\newcommand\course{CS 4438}
\newcommand\hwnumber{1}                  % <-- homework number
\newcommand\NetIDa{Wenxi Chen}           % <-- NetID of person #1
\newcommand\NetIDb{wchen466}           % <-- NetID of person #2 (Comment this line out for problem sets)

\pagestyle{fancyplain}
\headheight 35pt
\lhead{\NetIDa}
\lhead{\NetIDa\\\NetIDb}                 % <-- Comment this line out for problem sets (make sure you are person #1)
\chead{\textbf{\Large Assignment \hwnumber}}
\rhead{\course \\ \today}
\lfoot{}
\cfoot{}
\rfoot{\small\thepage}
\headsep 1.5em



\begin{document}

\section*{Question 1}

\begin{enumerate}
   \item Symbolic Name: www.csd.uwo.ca. IP Address: 129.100.22.17
   \item 129.100.22.17 is a B Class IP Address. (Binary: 10000001.01100100.00010110.00010001)
   \item The prefix for this class is the first two bits: 000001 01100100.
   \item Up to $2^{(32-16)}=2^{16}=65536$ Hosts can belong to this network.
\end{enumerate}


\section*{Question 2}
\begin{enumerate}
	\item First 20 Addresses:
	\begin{enumerate}
		\item \textbf{129.100.61.49}, 5 packets transmitted, 5 received, $0\%$ packet loss, time 4018ms
		\item 129.100.217.87, 6 packets transmitted, 0 received, $100\%$ packet loss, time 5138ms
		\item 129.100.64.86, 4 packets transmitted, 0 received, $100\%$ packet loss, time 3093ms
		\item 129.100.4.210, 4 packets transmitted, 0 received, $100\%$ packet loss, time 3059ms
		\item 129.100.179.47, 3 packets transmitted, 0 received, $100\%$ packet loss, time 2058ms
		\item 129.100.228.49, 4 packets transmitted, 0 received, $100\%$ packet loss, time 3088ms
		\item 129.100.13.111, 5 packets transmitted, 0 received, $100\%$ packet loss, time 4100ms
		\item \textbf{129.100.205.203}, 4 packets transmitted, 4 received, $0\%$ packet loss, time 3084ms
		\item 129.100.10.20, 5 packets transmitted, 0 received, $100\%$ packet loss, time 4114ms
		\item 129.100.26.88, 2 packets transmitted, 0 received, $100\%$ packet loss, time 1058ms
		\item 129.100.218.142, 3 packets transmitted, 0 received, $100\%$ packet loss, time 2039ms
		\item 129.100.7.108, 2 packets transmitted, 0 received, $100\%$ packet loss, time 1004ms
		\item \textbf{129.100.71.1}, 4 packets transmitted, 4 received, $0\%$ packet loss, time 3097ms
		\item 129.100.250.152, 4 packets transmitted, 0 received, $100\%$ packet loss, time 3105ms
		\item 129.100.163.194, 3 packets transmitted, 0 received, $100\%$ packet loss, time 2059ms
		\item 129.100.58.117, 4 packets transmitted, 0 received, $100\%$ packet loss, time 3092ms
		\item 129.100.211.181, 4 packets transmitted, 0 received, $100\%$ packet loss, time 3068ms
		\item 129.100.200.229, 4 packets transmitted, 0 received, $100\%$ packet loss, time 3057ms
		\item 129.100.174.55, 3 packets transmitted, 0 received, $100\%$ packet loss, time 2046ms
		\item 129.100.147.9, 5 packets transmitted, 0 received, $100\%$ packet loss, time 4105ms
	\end{enumerate}
	\item Fraction of address that correspond to actual machines: $\dfrac{3}{20}$
	\item Estimated size: $65534*\dfrac{3}{20}\approx9830$
\end{enumerate}

\section*{Question 3}
\begin{enumerate}
	\item My IP address in CIDR notation: \textbf{172.31.101.242/23}
	\item Network number: 10101100.00011111.0110010 \\
			Computer number: 1.11110010
	\item Up to $2^{9}=512$ computers can belong to the subnetwork.
	\item Ethernet adapter MAC address: fa:16:3e:5b:68:60	
\end{enumerate}


\section*{Question 4}
I traced bilibili.com located in China and it took 30 hops. As shown below: \\

\includegraphics[width=\textwidth]{hopping}

\begin{tabular}{ |c|c|c|c| }
	\hline
	\textbf{IP Address} & \textbf{Geographical Location} & \textbf{Latitude} & \textbf{Longitude}\\
	\hline 
 	172.31.100.1 & Private& NA & NA \\ 
 	\hline 
 	129.100.20.1 & London, ON, Canada & 43.01088 & -81.27746 \\ 
 	\hline 
 	172.29.102.5 & Private & NA & NA \\ 
 	\hline 
 	172.29.102.186 & Private & NA & NA \\ 
 	\hline 
 	172.29.102.18 & Private & NA & NA \\ 
 	\hline 
 	199.71.2.185 & London, ON, Canada & 43.00941 & -81.26176 \\ 
 	\hline 
 	172.16.2.101 & Private & NA & NA \\ 
 	\hline 
 	172.16.0.10 & Private & NA & NA \\ 
 	\hline 
 	142.46.4.217 & Toronto, ON, Canada & 43.65366 & -79.38282 \\ 
 	\hline 
 	142.47.203.62 & Toronto, ON, Canada & 43.65366 & -79.38282 \\ 
 	\hline 
 	142.47.202.4 & Toronto, ON, Canada & 43.65366 & -79.38282 \\ 
 	\hline 
 	142.47.202.89 & Toronto, ON, Canada & 43.65366 & -79.38282 \\ 
 	\hline 
 	142.47.202.153 & Toronto, ON, Canada & 43.65366 & -79.38282 \\ 
 	\hline 
 	142.47.202.244 & Toronto, ON, Canada & 43.65366 & -79.38282 \\ 
 	\hline 
 	38.122.36.105 & Buffalo, NY, USA & 42.83708 & -78.74842 \\ 
 	\hline 
 	154.54.29.201 & Los Angeles, CA, USA & 34.04564 & -118.24164 \\ 
 	\hline 
 	154.54.7.129 & Washington, DC, USA & 38.9069 & -77.0284 \\ 
 	\hline 
 	154.54.42.165 & San Jose, CA, USA & 37.33053 & -121.83823 \\ 
 	\hline 
 	154.54.5.89 & Dallas, TX, USA & 32.80543 & -96.81423 \\ 
 	\hline 
 	154.54.42.97 & San Jose, CA, USA & 37.33053 & -121.83823 \\ 
 	\hline 
 	154.54.44.141 & Herndon, VA, USA & 38.98372 & -77.38276 \\ 
 	\hline 
 	154.54.43.14 & New York, NY, USA & 40.75891 & -73.97902 \\ 
 	\hline 
 	38.104.138.106 & San Jose, CA, USA & 37.33053 & -121.83823 \\ 
 	\hline 
 	202.97.27.241 & Nanjing, Jiangsu, China & 32.04583 & 118.78417 \\ 
 	\hline 
 	202.97.12.2 & Beijing, Beijing, China & 39.91176
 & 116.37923 \\
 	\hline 
 	202.97.89.217 & Xicheng, Beijing, China & 39.91518 & 116.37431 \\
 	\hline 
 	113.96.5.134 & Guangzhou, Guangdong, China & 23.12472 & 113.23861 \\ 
 	\hline 
 	121.14.14.58 & Chancheng, Guangdong, China & 23.0095 & 113.1224 \\ 
 	\hline 
 	113.96.6.93 & Guangzhou, Guangdong, China & 23.12472 & 113.23861 \\
 	\hline 
 	125.94.53.106 & Guangzhou, Guangdong, China & 23.12472 & 113.23861 \\
 	\hline 
 	
\end{tabular} \\
\includegraphics[width=\textwidth]{hop}

\section*{Question 5}
\begin{enumerate}
	\item First 34 bytes of the package in HEX: \\
			4c 72 b9 f9 3d 6f d8 24 bd 91 5d 00 08 00 45 00 \\
			00 c4 2a ba 40 00 3f 06 e8 f9 81 64 10 42 81 64
	\item MAC Destination: 4c:72:b9:f9:3d:6f \\
			MAC Source: d8:24:bd:91:5d:00
	\item Datagram information
	\begin{enumerate}
		\item Protocol version number: 4
		\item Header length: 20 Bytes
		\item Total length of datagram: 196
		\item Time to live: 63
		\item Source IP address: 129.100.16.66 \\
				Destination IP address: 129.100.20.118
	\end{enumerate}
\end{enumerate}

\section*{Question 6}
\begin{enumerate}
	\item $P_{r}(nocollision)=1-P_{r}(collision) \\
	=1-\dfrac{1}{3} \\
	=\dfrac{2}{3}$
	\item $P_{r}(exactlythreecollisions)=P_{r}(firstcollision)*P_{r}(secondcollision)*P_{r}(thirdcollision)*(1-P_{r}(fourthdcollision))\\
	=\dfrac{1}{3}*\dfrac{1}{9}*\dfrac{1}{27} *\dfrac{80}{81}\\
	=\dfrac{80}{59049}\approx0.00135$
\end{enumerate}

\section*{Question 7}
Message received by B:
\begin{center}
$\begin{matrix}
1 & 0 & 1 & 0 \\
1 & 1 & 0 & 0 \\
\textbf{1} & 0 & 0 & 0 \\
0 & 1 & 1 & 0 \\
\end{matrix}$
\end{center}
Parity for each row: 
\begin{center}
$\begin{matrix}
0 \\
0 \\
0 \\
0 \\
\end{matrix}$
\end{center}
Parity for each column:
\begin{center}
$\begin{matrix}
0 & 1 & 1 & 0 \\
\end{matrix}$
\end{center}
The third row and first column's parity disagree with each other. Therefore the number "1" was altered. The correct message $ m $ is: 
\begin{center}
$\begin{matrix}
1 & 0 & 1 \\
1 & 1 & 0 \\
0 & 0 & 0 \\
\end{matrix}$
\end{center}
$ m = 101110000$

\section*{Question 8}
\begin{center}
\begin{tabular}{ |c|c| } 
	\hline
	\textbf{Destination} & \textbf{Next Hop} \\
	\hline 
 	129.1 & deliver direct\\ 
 	\hline
 	194.8.11 & deliver direct\\ 
 	\hline
 	196.3.7 & 196.3.7.18\\ 
 	\hline
 	192.10.4 & 192.10.4.16\\ 
 	\hline
 	164.80 & 192.10.4.16\\ 
 	\hline
 	132.32 & 192.10.4.16\\ 
 	\hline
\end{tabular}
\end{center}
\newpage

\section*{Question 9}

	\textbf{Network 1 packet(s):} \\
	\lbrack \textbf{header}: MAC addr. of $ A $ , MAC addr. of $ B $; \textbf{data}: $ D $\rbrack \\
	D = \{\textbf{header}:  IP addr. of $ A $, IP addr. of $ R_{1} $; \textbf{data length}: 180 bytes\} \\
	Total length: $20+20+180=220 \quad bytes$ \\ \\
	
	\textbf{Network 2 packet(s):} \\
	\lbrack \textbf{header}: MAC addr of A , MAC addr. of B; \textbf{data}: D\rbrack \\
	D = \{\textbf{header}:  IP addr. of $ R_{1} $, IP addr. of $ R_{2} $; \textbf{data length}: 60 bytes\} \\
	Total length: $20+20+60=100 \quad bytes$ \\ \\
	\lbrack \textbf{header}: MAC addr of A , MAC addr. of B; \textbf{data}: D\rbrack \\
	D = \{\textbf{header}:  IP addr. of $ R_{1} $, IP addr. of $ R_{2} $; \textbf{data length}: 60 bytes\} \\
	Total length: $20+20+60=100 \quad bytes$ \\ \\
	\lbrack \textbf{header}: MAC addr of A , MAC addr. of B; \textbf{data}: D\rbrack \\
	D = \{\textbf{header}:  IP addr. of $ R_{1} $, IP addr. of $ R_{2} $; \textbf{data length}: 60 bytes\} \\
	Total length: $20+20+60=100 \quad bytes$ \\ \\
	
	\textbf{Network 3 packet(s):} \\
	\lbrack \textbf{header}: MAC addr of A , MAC addr. of B; \textbf{data}: D\rbrack \\
	D = \{\textbf{header}:  IP addr. of $ R_{2} $, IP addr. of $ B $; \textbf{data length}: 60 bytes\} \\
	Total length: $20+20+60=100 \quad bytes$ \\ \\
	\lbrack \textbf{header}: MAC addr of A , MAC addr. of B; \textbf{data}: D\rbrack \\
	D = \{\textbf{header}:  IP addr. of $ R_{2} $, IP addr. of $ B $; \textbf{data length}: 60 bytes\} \\
	Total length: $20+20+60=100 \quad bytes$ \\ \\
	\lbrack \textbf{header}: MAC addr of A , MAC addr. of B; \textbf{data}: D\rbrack \\
	D = \{\textbf{header}:  IP addr. of $ R_{2} $, IP addr. of $ B $; \textbf{data length}: 60 bytes\} \\
	Total length: $20+20+60=100 \quad bytes$ \\ \\



\end{document}